{"version":3,"file":"static/js/8536.17890499.chunk.js","mappings":"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","sources":["context/Security.jsx","views/Users/EditUser.js"],"sourcesContent":["// SecurityContext.jsx \r\nimport { createContext, useContext } from 'react'; \r\nimport CryptoJS from 'crypto-js'; \r\nconst SecretKey = process.env.REACT_APP_SECRET_KEY || \"ghjsfysdg123\"; \r\n \r\n \r\n// Encryption and decryption functions using AES \r\nconst encrypt = (data) => { \r\n  console.log('Data to encrypt:', data); \r\n  const encryptedData = CryptoJS.AES.encrypt(data.toString(), SecretKey).toString(); \r\n  console.log('Encrypted data:', encryptedData); \r\n  return encryptedData.replace(/\\//g, ';'); \r\n}; \r\n \r\nconst decrypt = (encryptedData) => { \r\n  if (typeof encryptedData !== 'string') { \r\n    // If encryptedData is not a string, return it as is \r\n    return encryptedData; \r\n  } \r\n  encryptedData = encryptedData.replace(/;/g, '/'); \r\n  const decryptedData = CryptoJS.AES.decrypt(encryptedData, SecretKey).toString(CryptoJS.enc.Utf8); \r\n  return decryptedData; \r\n}; \r\n \r\n// Create the SecurityContext \r\nconst SecurityContext = createContext({ encrypt, decrypt }); \r\n \r\n// Custom hook to use the SecurityContext \r\nexport const useSecurity = () => useContext(SecurityContext); \r\n \r\nexport default SecurityContext;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useSecurity } from './../../context/Security';\r\n\r\nconst userapi= process.env.REACT_APP_API_USERS;\r\n\r\nconst EditUser = () => {\r\n    const [message, setMessage] = useState(null);\r\n    const { userId } = useParams();\r\n    const {decrypt} = useSecurity(); \r\n  const decryptid = decrypt(userId);\r\n    const [formData, setFormData] = useState({\r\n        \r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        password: '',\r\n        //confirmPassword: '',\r\n        mobileNo: '',\r\n        departmentName: '',\r\n        role: '',\r\n        address: '',\r\n        dateOfBirth: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n        axios.get(`${userapi}/${decryptid}`)\r\n            .then(res => {\r\n                setFormData(res.data);\r\n                console.log(res.data)\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setMessage('Error updating user. Please try again.');\r\n            });\r\n    }, [decryptid]);\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value, type } = e.target;\r\n        setFormData((prevData) => ({\r\n            ...prevData,\r\n            [name]: type === 'file' ? e.target.files : value,\r\n        }));\r\n    };\r\n\r\n    function handleUserSubmit(event) {\r\n        event.preventDefault();\r\n        // const currentDate = new Date().toISOString().split('T')[0];\r\n        // if (formData.dueDate < currentDate) {\r\n        //     setMessage('Due Date must be greater than or equal to the current date.');\r\n        //     return;\r\n        // }\r\n\r\n        axios.put(`${userapi}/${decryptid}`, formData)\r\n            .then(res => {\r\n                console.log(res);\r\n                setMessage('User updated successfully!');\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                setMessage('Error updating user. Please try again.');\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mt-5\">\r\n            <h4>Edit User</h4>\r\n\r\n            {message && (\r\n                <div className={`alert ${message.includes('successfully') ? 'alert-success' : 'alert-danger'}`} role=\"alert\">\r\n                    {message}\r\n                </div>\r\n            )}\r\n\r\n            <form onSubmit={handleUserSubmit}>\r\n                {/* Username */}\r\n                <div className=\"row mb-3\">\r\n                    <label htmlFor=\"firstName\" className=\"col-sm-1 col-form-label text-start\">\r\n                        FirstName:\r\n                    </label>\r\n                    <div className=\"col-sm-3\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"firstName\"\r\n                            name=\"firstName\"\r\n                            placeholder=\"Enter FirstName\"\r\n                            required\r\n                            onChange={handleInputChange}\r\n                            value={formData.firstName}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Lastname */}\r\n                    <label htmlFor=\"lastName\" className=\"col-sm-1 col-form-label text-end\">\r\n                        LastName:\r\n                    </label>\r\n                    <div className=\"col-sm-3\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"lastName\"\r\n                            name=\"lastName\"\r\n                            placeholder=\"Enter lastName\"\r\n                            required\r\n                            onChange={handleInputChange}\r\n                            value={formData.lastName}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Mobile Number */}\r\n                    <label htmlFor=\"mobileNo\" className=\"col-sm-1 col-form-label text-start\">\r\n                        MobileNo:\r\n                    </label>\r\n                    <div className=\"col-sm-3\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"mobileNo\"\r\n                            name=\"mobileNo\"\r\n                            placeholder=\"Enter Mobile No.\"\r\n                            required\r\n                            onChange={handleInputChange}\r\n                            value={formData.mobileNo}\r\n                        />\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {/* Address */}\r\n                <div className=\"row mb-3\">\r\n                    <label htmlFor=\"address\" className=\"col-sm-1 col-form-label text-end\">\r\n                        Address:\r\n                    </label>\r\n                    <div className=\"col-sm-3\">\r\n                        <input\r\n                            type=\"address\"\r\n                            className=\"form-control\"\r\n                            id=\"address\"\r\n                            name=\"address\"\r\n                            placeholder=\"Enter Address\"\r\n                            required\r\n                            onChange={handleInputChange}\r\n                            value={formData.address}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Date of Birth */}\r\n                    <label htmlFor=\"dateOfBirth\" className=\"col-sm-1 col-form-label text-end\">\r\n                        DOB:\r\n                    </label>\r\n                    <div className=\"col-sm-3\">\r\n                        <input\r\n                            type=\"date\"\r\n                            className=\"form-control\"\r\n                            id=\"dateOfBirth\"\r\n                            name=\"dateOfBirth\"\r\n                            placeholder=\"Enter Date Of Birth\"\r\n                            required\r\n                            onChange={handleInputChange}\r\n                            value={formData.dateOfBirth}\r\n                        />\r\n                    </div>\r\n                    {/* Email */}\r\n                    <label htmlFor=\"email\" className=\"col-sm-1 col-form-label text-end\">\r\n                        Email:\r\n                    </label>\r\n                    <div className=\"col-sm-3\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            placeholder=\"Enter email\"\r\n                            required\r\n                            onChange={handleInputChange}\r\n                            value={formData.email}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Password */}\r\n                <div className=\"row mb-3\">\r\n                    {/* <label htmlFor=\"password\" className=\"col-sm-1 col-form-label text-start\">\r\n                        Password:\r\n                    </label>\r\n                    <div className=\"col-sm-3\">\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            id=\"password\"\r\n                            name=\"password\"\r\n                            placeholder=\"Enter password\"\r\n                            required\r\n                            onChange={handleInputChange}\r\n                            value={formData.password}\r\n                        />\r\n                    </div> */}\r\n\r\n                    {/* Department */}\r\n\r\n\r\n                    <label htmlFor=\"departmentName\" className=\"col-sm-1 col-form-label text-start\">\r\n                        Department:\r\n                    </label>\r\n                    <div className=\"col-sm-3\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"departmentName\"\r\n                            name=\"departmentName\"\r\n                            placeholder=\"Enter department\"\r\n                            required\r\n                            onChange={handleInputChange}\r\n                            value={formData.departmentName}\r\n                        />\r\n                    </div>\r\n                    {/* Designation */}\r\n                    <label htmlFor=\"role\" className=\"col-sm-1 col-form-label text-start\">\r\n                        Designation:\r\n                    </label>\r\n                    <div className=\"col-sm-3\">\r\n                        <input\r\n                            type=\"text\"\r\n                            className=\"form-control\"\r\n                            id=\"role\"\r\n                            name=\"role\"\r\n                            placeholder=\"Enter designation\"\r\n                            required\r\n                            onChange={handleInputChange}\r\n                            value={formData.role}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Confirm Password\r\n          <label htmlFor=\"confirmPassword\" className=\"col-sm-3 col-form-label text-end\">\r\n            Confirm Password:\r\n          </label>\r\n          <div className=\"col-sm-3\">\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              id=\"confirmPassword\"\r\n              name=\"confirmPassword\"\r\n              placeholder=\"Confirm password\"\r\n              required\r\n              onChange={handleInputChange}\r\n            /> */}\r\n                    {/* </div> */}\r\n                </div>\r\n\r\n                <div className=\"row mb-3\">\r\n                    <div className=\"col-sm-3\"></div>\r\n                    <div className=\"col-sm-9 text-end\">\r\n                        <button type=\"submit\" className=\"btn btn-primary\">\r\n                            Update User\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditUser;\r\n"],"names":["SecretKey","process","REACT_APP_SECRET_KEY","SecurityContext","createContext","encrypt","data","console","log","encryptedData","CryptoJS","toString","replace","decrypt","Utf8","useSecurity","useContext","userapi","EditUser","message","setMessage","useState","userId","useParams","decryptid","formData","setFormData","firstName","lastName","email","password","mobileNo","departmentName","role","address","dateOfBirth","useEffect","axios","get","concat","then","res","catch","err","handleInputChange","e","name","value","type","target","prevData","files","_jsxs","className","children","_jsx","includes","onSubmit","event","preventDefault","put","htmlFor","id","placeholder","required","onChange"],"sourceRoot":""}